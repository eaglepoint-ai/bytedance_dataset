{
  "instance_id": "BD-RL-008-performance_and_semantic_stability",
    "problem_statement": "Optimize the performance of the format_ids function while ensuring semantic stability. The refactored code must produce byte-for-byte identical outputs for all existing test cases but execute more efficiently by eliminating repeated regex compilation overhead. Pre-compile the regex pattern at module level to avoid O(n) compilation cost in the loop.",
    "base_commit": "repository_before",
    "test_patch": "tests/",
    "repo": "https://github.com/eaglepoint-ai/bytedance_dataset/task_003_performance_and_semantic_stability",
    "environment_setup": "Dockerfile",
    "FAIL_TO_PASS": [
        "tests/test_code_quality_metrics.py::TestCodeQualityMetrics::test_regex_precompilation",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_repeated_calls_performance",
        "tests/test_optimization_quality.py::TestOptimizationQuality::test_no_inline_regex_compilation",
        "tests/test_optimization_quality.py::TestOptimizationQuality::test_has_module_level_compiled_pattern",
        "tests/test_optimization_quality.py::TestOptimizationQuality::test_documentation_mentions_optimization"
    ],
    "PASS_TO_PASS": [
        "tests/test_behavior_preservation.py::TestBasicBehavior::test_simple_ids",
        "tests/test_behavior_preservation.py::TestBasicBehavior::test_empty_list",
        "tests/test_behavior_preservation.py::TestBasicBehavior::test_single_id",
        "tests/test_behavior_preservation.py::TestBasicBehavior::test_uppercase_conversion",
        "tests/test_behavior_preservation.py::TestNoneHandling::test_none_values_skipped",
        "tests/test_behavior_preservation.py::TestNoneHandling::test_all_none_values",
        "tests/test_behavior_preservation.py::TestNoneHandling::test_none_at_start",
        "tests/test_behavior_preservation.py::TestNoneHandling::test_none_at_end",
        "tests/test_behavior_preservation.py::TestWhitespaceHandling::test_leading_whitespace",
        "tests/test_behavior_preservation.py::TestWhitespaceHandling::test_trailing_whitespace",
        "tests/test_behavior_preservation.py::TestWhitespaceHandling::test_surrounding_whitespace",
        "tests/test_behavior_preservation.py::TestWhitespaceHandling::test_internal_whitespace",
        "tests/test_behavior_preservation.py::TestWhitespaceHandling::test_whitespace_only",
        "tests/test_behavior_preservation.py::TestSpecialCharacterHandling::test_single_special_char",
        "tests/test_behavior_preservation.py::TestSpecialCharacterHandling::test_multiple_consecutive_special_chars",
        "tests/test_behavior_preservation.py::TestSpecialCharacterHandling::test_mixed_special_chars",
        "tests/test_behavior_preservation.py::TestSpecialCharacterHandling::test_leading_special_chars",
        "tests/test_behavior_preservation.py::TestSpecialCharacterHandling::test_trailing_special_chars",
        "tests/test_behavior_preservation.py::TestSpecialCharacterHandling::test_only_special_chars",
        "tests/test_behavior_preservation.py::TestOrderAndDuplicates::test_order_preserved",
        "tests/test_behavior_preservation.py::TestOrderAndDuplicates::test_duplicates_preserved",
        "tests/test_behavior_preservation.py::TestOrderAndDuplicates::test_duplicates_after_formatting",
        "tests/test_behavior_preservation.py::TestOrderAndDuplicates::test_order_with_none",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_empty_strings",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_single_character",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_numbers_only",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_alphanumeric_mix",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_unicode_characters",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_very_long_id",
        "tests/test_behavior_preservation.py::TestEdgeCases::test_many_ids",
        "tests/test_behavior_preservation.py::TestComplexScenarios::test_mixed_bag",
        "tests/test_behavior_preservation.py::TestComplexScenarios::test_realistic_ids",
        "tests/test_behavior_preservation.py::TestComplexScenarios::test_database_keys",
        "tests/test_code_quality_metrics.py::TestCodeQualityMetrics::test_module_imports",
        "tests/test_code_quality_metrics.py::TestCodeQualityMetrics::test_format_ids_complexity",
        "tests/test_code_quality_metrics.py::TestCodeQualityMetrics::test_format_ids_length",
        "tests/test_code_quality_metrics.py::TestCodeQualityMetrics::test_no_deeply_nested_code",
        "tests/test_code_quality_metrics.py::TestCodeQualityMetrics::test_function_signature_unchanged",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_basic_performance",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_large_batch_performance",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_special_chars_performance",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_mixed_workload_performance",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_memory_efficiency",
        "tests/test_performance_improvement.py::TestPerformanceImprovements::test_scalability"
    ]
}
